{% extends "juice/templates/index.html" %}

{% block favicon %}
    <link rel="icon" type="image/png" href="/favicon.png" />
{% endblock favicon %}

{% block fonts %}
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Lora"/>
{% endblock fonts %}

{% block head %}
    <link rel="stylesheet" href="styles.css">
{% endblock head %}

{% block hero %}

<div id="header-offset"></div>

<div class="banner">
    <div class="banner-ribbon"></div>

    <div class="banner-content">
        <div class="banner-image-container">
            <img src="logo.svg" class="banner-image">
        </div>

        <div class="banner-info">
            <h1>The 23<sup>rd</sup> International Linguistics Olympiad</h1>
            <h2>July 26<sup>th</sup> - August 2<sup>nd</sup> 2026 | Bucharest, Romania</h2>
            <img src="ribbon_hora.svg" class="banner-hora">
            
            <div class="banner-countdown" data-target-date="2026-07-26T00:00:00Z">
                <div>
                    <span class="countdown-item days">0</span>
                    <span>Days</span>
                </div>
                <div>
                    <span class="countdown-item hours">0</span>
                    <span>Hours</span>
                </div>
                <div>
                    <span class="countdown-item minutes">0</span>
                    <span>Minutes</span>
                </div>
                <div>
                    <span class="countdown-item seconds">0</span>
                    <span>Seconds</span>
                </div>
            </div>
        </div>
    </div>

    <div class="banner-ribbon"></div>
</div>

<script>
    (function () {
        function updateHeaderOffset() {
            const header = document.querySelector("header");
            const offset = document.getElementById("header-offset");
            if (!header || !offset) return;
            const height = header.offsetHeight;
            offset.style.height = height + "px";
            offset.style.width = "100%";
            offset.style.pointerEvents = "none";
        }
        // Run after layout & fonts are loaded
        window.addEventListener("load", updateHeaderOffset);
        // Recalculate on resize (responsive header)
        window.addEventListener("resize", updateHeaderOffset);
    })();
    (function() {
        const countdowns = document.querySelectorAll('.banner-countdown');
        countdowns.forEach(container => {
            const targetDate = new Date(container.dataset.targetDate);
            function updateCountdown() {
                const now = new Date();
                let diff = targetDate - now;
                if (diff < 0) diff = 0;

                const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
                const minutes = Math.floor((diff / (1000 * 60)) % 60);
                const seconds = Math.floor((diff / 1000) % 60);

                container.querySelector('.days').textContent = days;
                container.querySelector('.hours').textContent = hours;
                container.querySelector('.minutes').textContent = minutes;
                container.querySelector('.seconds').textContent = seconds;
            }
            updateCountdown();
            setInterval(updateCountdown, 1000);
        });
    })();   
</script>

{%endblock hero %}

{% block sidebar %}{% endblock sidebar %}

{% block content %}
    {{ section.content | safe }}
{% endblock content %}

{% block footer %}

<footer>
    <h1>Contact</h1>
    <div style="margin-bottom: 30px; font-size: larger;">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 1360 660" fill="#ffffff"><path fill="#ffffff" d="M105 5h1152q43 0 74 31t31 74v785q0 44-31 74.5t-74 30.5H105q-43 0-74-30.5T0 895V110q0-43 31-74t74-31zm69 157l507 423l507-423H174zm-17 681h1048V285L711 697h-61L157 285v558z"/></svg>
        <a href="mailto:iol2026ro@gmail.com">iol2026ro@gmail.com</a>
    </div>

    <h1>Partners</h1>

    <div class="organisations-list" style="margin-bottom: 30px">
        <img src="/footer/logo_MEC_bnw.png">
        <img src="/footer/logo_Institut_bnw.png">
        <img src="/footer/logo_UniBuc_bnw.png">
        <img src="/footer/logo_Drept_bnw.png">
    </div>

    <span class="copyright">Â© 2026 - International Linguistics Olympiad</span>
</footer>

{% endblock footer %}